<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body onLoad="load();">
	<div style="background-color:red;border:solid thin black;position:absolute;width:50px;height:250px;transform: rotate(0deg);transform-origin: bottom left;" id="bola"></div>
	<div style="background-color:blue;border:solid thin black;position:absolute;width:50px;height:250px;transform: rotate(0deg);transform-origin: bottom left;" id="bolaGyro"></div>
<div class="main">
  <h2>Device Motion</h2>
  <table>
    <tr>
      <td>Event Supported</td>
      <td id="dmEvent"></td>
    </tr>
    <tr>
      <td>acceleration</td>
      <td id="moAccel"></td>
    </tr>
    <tr>
      <td>accelerationIncludingGravity</td>
      <td id="moAccelGrav"></td>
    </tr>
    <tr>
      <td>rotationRate</td>
      <td id="moRotation"></td>
    </tr>
    <tr>
      <td>interval</td>
      <td id="moInterval"></td>
    </tr>
  </table>
</div>

<script>
	var bola;
	var bolaGyro;
function load(){
	bola = document.getElementById("bola");
	bolaGyro = document.getElementById("bolaGyro");
	
	window.addEventListener('deviceorientation', function(event) {
	  console.log(event.alpha + ' : ' + event.beta + ' : ' + event.gamma);
	});
	
	if ((window.DeviceMotionEvent)) {
	  window.addEventListener('devicemotion', deviceMotionHandler, false);
	} else {
	  document.getElementById("dmEvent").innerHTML = "Not supported."
	}
	
}
function deviceMotionHandler(eventData) {
  var info, xyz = "[X, Y, Z]";
  // Grab the acceleration from the results
  var acceleration = eventData.acceleration;
  info = xyz.replace("X", Math.round(acceleration.x*300)/100);
  info = info.replace("Y", Math.round(acceleration.y*300)/100);
  info = info.replace("Z", Math.round(acceleration.z*300)/100);
  document.getElementById("moAccel").innerHTML = info;
	
  // Grab the acceleration including gravity from the results
  acceleration = eventData.accelerationIncludingGravity;
  info = xyz.replace("X", Math.round(acceleration.x*300)/100);
  info = info.replace("Y", Math.round(acceleration.y*300)/100);
  info = info.replace("Z", Math.round(acceleration.z*300)/100);
  document.getElementById("moAccelGrav").innerHTML = info;
  // Grab the rotation rate from the results
  var rotation = eventData.rotationRate;
  info = xyz.replace("X", Math.round(rotation.alpha*300)/100);
  info = info.replace("Y", Math.round(rotation.beta*300)/100);
  info = info.replace("Z", Math.round(rotation.gamma*300)/100);
  document.getElementById("moRotation").innerHTML = info;
  
  bola.style.transform = "rotate("+Math.round(rotation.alpha*300)/100+"deg)";
  bolaGyro.style.transform = "rotate("+Math.round(rotation.alpha*300)/100+"deg)";
  
  // // Grab the refresh interval from the results
  info = eventData.interval;
  document.getElementById("moInterval").innerHTML = info;       
	
  bola.style.top = (Math.round(acceleration.x*300)/100+100)+"px";
  bola.style.left = (Math.round(acceleration.y*300)/100+100)+"px";
  
  bolaGyro.style.top = (Math.round(rotation.alpha*200)/100+200)+"px";
  bolaGyro.style.left = (Math.round(rotation.beta*200)/100+200)+"px";
}
</script>
</body>
</html>
